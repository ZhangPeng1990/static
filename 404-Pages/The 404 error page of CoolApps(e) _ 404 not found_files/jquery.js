/*************************************************
**  jQuery Masonry version 1.3.2
**  Copyright David DeSandro, licensed MIT
**  http://desandro.com/resources/jquery-masonry
**************************************************/
;(function(c){var b=c.event,a;b.special.smartresize={setup:function(){c(this).bind("resize",b.special.smartresize.handler)},teardown:function(){c(this).unbind("resize",b.special.smartresize.handler)},handler:function(g,d){var f=this,e=arguments;g.type="smartresize";if(a){clearTimeout(a)}a=setTimeout(function(){jQuery.event.handle.apply(f,e)},d==="execAsap"?0:100)}};c.fn.smartresize=function(d){return d?this.bind("smartresize",d):this.trigger("smartresize",["execAsap"])};c.fn.masonry=function(f,l){function h(n,r,s,t,p,q){var o=0;for(i=0;i<r;i++){if(s[i]<s[o]){o=i}}var m={left:p.colW*o+p.posLeft,top:s[o]};if(p.masoned&&q.animate){n.animate(m,q.duration,q.easing)}else{n.css(m)}for(i=0;i<t;i++){p.colY[o+i]=s[o]+n.outerHeight(true)}}function e(q,n,o){if(n.$cornerBrick!=undefined){var p=(n.colW*(n.colCount-n.cornerColumns))+n.posLeft;var m={left:p,top:c(q).last()};if(n.masoned&&o.animate){n.$cornerBrick.animate(m,o.duration,o.easing)}else{n.$cornerBrick.css(m)}}}function d(o,n,m){m.$bricks=n.itemSelector==undefined?n.$brickParent.children():n.$brickParent.find(n.itemSelector);if(n.columnWidth==undefined){m.colW=m.masoned?o.data("masonry").colW:m.$bricks.outerWidth(true)}else{m.colW=n.columnWidth}if(n.cornerMaskSelector!=undefined){m.$cornerBrick=n.$brickParent.find(n.cornerMaskSelector).first();m.cornerColumns=Math.ceil(m.$cornerBrick.width()/m.colW);m.cornerHeight=m.$cornerBrick.outerHeight(true)}m.colCount=Math.floor(o.width()/m.colW);m.colCount=Math.max(m.colCount,1)}function k(r,q,p){if(!p.masoned){r.css("position","relative")}if(!p.masoned||q.appendedContent!=undefined){p.$bricks.css("position","absolute");if(p.$cornerBrick!=undefined){p.$cornerBrick.css("position","absolute")}}var s=c("<div />");r.prepend(s);p.posTop=Math.round(s.position().top);p.posLeft=Math.round(s.position().left);s.remove();if(p.masoned&&q.appendedContent!=undefined){p.colY=r.data("masonry").colY;for(m=r.data("masonry").colCount;m<p.colCount;m++){p.colY[m]=p.posTop}}else{p.colY=[];for(var m=0;m<p.colCount;m++){if(p.$cornerBrick!=undefined&&m>=(p.colCount-p.cornerColumns)){p.colY[m]=p.cornerHeight+p.posTop}else{p.colY[m]=p.posTop}}}var o=function(t,u,v){return(t+1==u.colCount||t+1==u.$bricks.size())};p.$bricks.each(function(u){var t=c(this);if(q.singleMode){h(t,p.colCount,p.colY,1,p,q)}else{var w=Math.ceil(t.outerWidth(true)/p.colW);w=Math.min(w,p.colCount);if(w==1){h(t,p.colCount,p.colY,1,p,q)}else{var x=p.colCount+1-w;var v=[0];for(m=0;m<x;m++){v[m]=0;for(j=0;j<w;j++){v[m]=Math.max(v[m],p.colY[m+j])}}h(t,x,v,w,p,q)}}if(o(u,p,q)){e(p.colY,p,q)}});p.wallH=0;for(m=0;m<p.colCount;m++){p.wallH=Math.max(p.wallH,p.colY[m])}var n={height:p.wallH-p.posTop};if(p.masoned&&q.animate){r.animate(n,q.duration,q.easing)}else{r.css(n)}r.data("masonry",p);l.call(p.$bricks)}function g(p,o,n){n.masoned=p.data("masonry")!=undefined;var m=p.data("masonry").colCount;d(p,o,n);if(n.colCount!=m){k(p,o,n)}}return this.each(function(){var q=c(this);var o=c.extend({},c.masonry);o.masoned=q.data("masonry")!=undefined;var n=o.masoned?q.data("masonry").options:{};var p=c.extend({},o.defaults,n,f);o.options=p.saveOptions?p:n;l=l||function(){};if(o.masoned&&p.appendedContent!=undefined){p.$brickParent=p.appendedContent}else{p.$brickParent=q}if(p.$brickParent.children().length>0){d(q,p,o);k(q,p,o);var m=n.resizeable;if(!m&&p.resizeable){c(window).bind("smartresize.masonry",function(){g(q,p,o)})}if(m&&!p.resizeable){c(window).unbind("smartresize.masonry")}}else{return this}})};c.masonry={defaults:{singleMode:false,columnWidth:undefined,itemSelector:undefined,appendedContent:undefined,saveOptions:true,resizeable:true,animate:false,duration:"normal",easing:"swing",cornerMaskSelector:undefined},colW:undefined,colCount:undefined,colY:undefined,wallH:undefined,masoned:undefined,posTop:0,posLeft:0,options:undefined,$bricks:undefined,$brickParent:undefined,$cornerBrick:undefined,cornerColumns:0,cornerHeight:0}})(jQuery);